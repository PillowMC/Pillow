name: Generate installer

on: 
  workflow_dispatch:
    inputs:
      pillow_v:
        description: 'Pillow version'
        type: string
        required: true
      neo_v:
        description: 'NeoForge version'
        type: string
        required: true
      quilt_v:
        description: 'Quilt Loader version'
        type: string
        required: true
jobs:
  gen: 
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          repository: PillowMC/pillow-install-meta
      - name: Set up JDK 17
        uses: actions/setup-java@v3
        with:
          java-version: '17'
          distribution: 'temurin'
      - name: Generate installer
        run: |
          wget 
          ./geninstaller.sh neoforge-${{ inputs.neo_v }}-installer.jar pillow-${{ inputs.pillow_v }}-installer.jar ${{ inputs.pillow_v }} ${{ inputs.quilt_v }}
      - name: Upload a Build Artifact
        uses: actions/upload-artifact@v4
        with:
          path: pillow-${{ inputs.pillow_v }}-installer.jar